# ğŸ± æœˆçŒ«ãƒãƒŠãƒ¼ãƒ¡ãƒ¼ã‚«ãƒ¼ (tsukineko-banner-maker)

**OpenAI gpt-image-1.5** ã‚’æ´»ç”¨ã—ãŸAIãƒãƒŠãƒ¼ç”Ÿæˆãƒ„ãƒ¼ãƒ«ã€‚æœ€æ–°ã®ç”»åƒç”Ÿæˆãƒ¢ãƒ‡ãƒ«ã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ã§ã€ãƒ—ãƒ­å“è³ªã®ãƒãƒŠãƒ¼ã‚’ç°¡å˜ã«ä½œæˆã§ãã¾ã™ã€‚

---

## ğŸ¯ ãªãœ gpt-image-1.5 ãªã®ã‹ï¼Ÿ

| ç‰¹å¾´ | gpt-image-1.5 | å¾“æ¥ã®DALL-E 3 |
|------|---------------|----------------|
| **ãƒ†ã‚­ã‚¹ãƒˆæç”»ç²¾åº¦** | éå¸¸ã«é«˜ã„ | æ–‡å­—åŒ–ã‘ã—ã‚„ã™ã„ |
| **å‚ç…§ç”»åƒã®ç†è§£** | ã‚­ãƒ£ãƒ©ãƒ»è‰²ãƒ»ç´ æã‚’æ­£ç¢ºã«åæ˜  | é™å®šçš„ |
| **ã‚¹ã‚¿ã‚¤ãƒ«ä¸€è²«æ€§** | è¤‡æ•°æšã§ã‚‚ãƒ–ãƒ¬ã«ãã„ | ãƒãƒ©ã¤ãã‚„ã™ã„ |
| **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç†è§£** | æ—¥æœ¬èªã®æ„å›³ã‚‚æ­£ç¢ºã«è§£é‡ˆ | è‹±èªæœ€é©åŒ– |
| **ç·¨é›†æ©Ÿèƒ½** | éƒ¨åˆ†ç·¨é›†ãŒå¯èƒ½ | å…¨ä½“å†ç”Ÿæˆã®ã¿ |

> ğŸ“– å‚è€ƒ: [OpenAI Image Generation Guide](https://platform.openai.com/docs/guides/images)

---

## âœ¨ ã“ã®ãƒ„ãƒ¼ãƒ«ã§ã§ãã‚‹ã“ã¨

### ğŸ–¼ï¸ 1. å‚ç…§ç”»åƒã§ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æŒ‡å®š

å¾“æ¥ã®AIç”»åƒç”Ÿæˆã¯ã€Œãƒ†ã‚­ã‚¹ãƒˆã ã‘ã€ã§æŒ‡ç¤ºã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚  
ã“ã®ãƒ„ãƒ¼ãƒ«ã§ã¯ **3ç¨®é¡ã®å‚ç…§ç”»åƒ** ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€è¦–è¦šçš„ã«ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æŒ‡å®šã§ãã¾ã™ï¼š

| å‚ç…§ã‚¿ã‚¤ãƒ— | ç”¨é€” | åŠ¹æœ |
|-----------|------|------|
| **ã‚­ãƒ£ãƒ©å‚ç…§** | è‡ªç¤¾ãƒã‚¹ã‚³ãƒƒãƒˆã®ç”»åƒ | åŒã˜ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’ç¶­æŒ |
| **è‰²/ä¸–ç•Œè¦³å‚ç…§** | ãƒ–ãƒ©ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼ã®ç”»åƒ | é…è‰²ãƒ»é›°å›²æ°—ã‚’å†ç¾ |
| **ç´ æå‚ç…§** | ãƒ†ã‚¯ã‚¹ãƒãƒ£ãƒ»è£…é£¾ç´ æ | ç‰¹å®šã®è³ªæ„Ÿãƒ»ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åæ˜  |

### ğŸ¨ 2. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ä¸€æ‹¬ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ç”Ÿæˆ

1å›ã®ã‚¯ãƒªãƒƒã‚¯ã§è¤‡æ•°ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç”Ÿæˆï¼š

- **æ§‹å›³ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³**: æ­£é¢ãƒ»æ–œã‚ãƒ»æ¨ªé¡”ã®3ãƒ‘ã‚¿ãƒ¼ãƒ³
- **å­£ç¯€ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³**: æ˜¥å¤ç§‹å†¬ã®4ãƒ‘ã‚¿ãƒ¼ãƒ³
- **é…è‰²ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³**: æš–è‰²ç³»ãƒ»å¯’è‰²ç³»ãƒ»ãƒŠãƒãƒ¥ãƒ©ãƒ«ç³»

### âœï¸ 3. æ­£ç¢ºãªãƒ†ã‚­ã‚¹ãƒˆæç”»

`text_verbatim` æ©Ÿèƒ½ã§ã€ãƒãƒŠãƒ¼ã«è¡¨ç¤ºã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆã‚’**å®Œå…¨ä¸€è‡´**ã§æç”»ï¼š

```
å…¥åŠ›: "SPRING SALE 2025"
çµæœ: ä¸€å­—ä¸€å¥æ­£ç¢ºã«æç”»ï¼ˆã‚¹ãƒšãƒ«ãƒŸã‚¹ãªã—ï¼‰
```

### ğŸ”§ 4. éƒ¨åˆ†ç·¨é›†ï¼ˆEditæ©Ÿèƒ½ï¼‰

æ—¢å­˜ç”»åƒã®ä¸€éƒ¨ã ã‘ã‚’å¤‰æ›´ï¼š

- è‰²ã ã‘å¤‰æ›´ï¼ˆæ§‹å›³ã¯ãã®ã¾ã¾ï¼‰
- ãƒ†ã‚­ã‚¹ãƒˆã ã‘å·®ã—æ›¿ãˆ
- èƒŒæ™¯ã ã‘å¤‰æ›´
- å°ç‰©ãƒ»è£…é£¾ã‚’è¿½åŠ 

---

## ğŸ’¡ å¾“æ¥ãƒ„ãƒ¼ãƒ«ã¨ã®é•ã„

| æ©Ÿèƒ½ | æœˆçŒ«ãƒãƒŠãƒ¼ãƒ¡ãƒ¼ã‚«ãƒ¼ | Canva AI | Midjourney |
|------|-------------------|----------|------------|
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€æ‹¬ç”Ÿæˆ | âœ… | âŒ | âŒ |
| å‚ç…§ç”»åƒ3ç¨®é¡å¯¾å¿œ | âœ… | é™å®šçš„ | 1ç¨®é¡ã®ã¿ |
| æ­£ç¢ºãªãƒ†ã‚­ã‚¹ãƒˆæç”» | âœ… | âŒ | âŒ |
| éƒ¨åˆ†ç·¨é›† | âœ… | âŒ | âŒ |
| APIç›´æ¥åˆ©ç”¨ | âœ… | âŒ | âŒ |
| ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ | âœ… | âŒ | âŒ |

---

## ğŸš€ ä¸»ãªæ©Ÿèƒ½ä¸€è¦§

- **12ç¨®é¡ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**: Generateç³»8å€‹ + Editç³»4å€‹
- **ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ç”Ÿæˆ**: è‰²ãƒ»æ§‹å›³ãƒ»å­£ç¯€ãªã©ã®è»¸ã§è¤‡æ•°ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¸€æ‹¬ç”Ÿæˆ
- **å‚ç…§ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**: ã‚­ãƒ£ãƒ©/è‰²/ç´ æã®å‚ç…§ç”»åƒã§ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æŒ‡å®š
- **å“è³ªé¸æŠ**: Draft(ä½)/Standard(ä¸­)/Final(é«˜)ã®3æ®µéš
- **ã‚³ã‚¹ãƒˆç®¡ç†**: Finalå“è³ªã®ç”Ÿæˆå›æ•°åˆ¶é™ã¨è­¦å‘Šè¡¨ç¤º
- **ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤º**: è¤‡æ•°æšç”Ÿæˆæ™‚ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€²æ—è¡¨ç¤º
- **ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰**: ç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ç¢ºèªæ©Ÿèƒ½

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œ

```bash
# ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt

# ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
cp .env.example .env
# .env ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦ OPENAI_API_KEY ã‚’è¨­å®š

# ã‚¢ãƒ—ãƒªèµ·å‹•
streamlit run app.py
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:8501 ã«ã‚¢ã‚¯ã‚»ã‚¹

### Dockerå®Ÿè¡Œ

```bash
# ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰
docker build -t tsukineko-banner-maker .

# ã‚³ãƒ³ãƒ†ãƒŠã®èµ·å‹•
docker run -p 8080:8080 -e OPENAI_API_KEY=sk-proj-xxx tsukineko-banner-maker
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:8080 ã«ã‚¢ã‚¯ã‚»ã‚¹

## â˜ï¸ Cloud Run ãƒ‡ãƒ—ãƒ­ã‚¤

### 1. Google Cloud SDK ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
gcloud auth login
gcloud config set project YOUR_PROJECT_ID
```

### 2. Artifact Registry ã®ä½œæˆï¼ˆåˆå›ã®ã¿ï¼‰

```bash
gcloud artifacts repositories create tsukineko-repo \
    --repository-format=docker \
    --location=asia-northeast1 \
    --description="Tsukineko Banner Maker"
```

### 3. ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã¨ãƒ—ãƒƒã‚·ãƒ¥

```bash
# Cloud Build ã§ãƒ“ãƒ«ãƒ‰
gcloud builds submit --tag asia-northeast1-docker.pkg.dev/YOUR_PROJECT_ID/tsukineko-repo/tsukineko-banner-maker

# ã¾ãŸã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ“ãƒ«ãƒ‰ã—ã¦ãƒ—ãƒƒã‚·ãƒ¥
docker build -t asia-northeast1-docker.pkg.dev/YOUR_PROJECT_ID/tsukineko-repo/tsukineko-banner-maker .
docker push asia-northeast1-docker.pkg.dev/YOUR_PROJECT_ID/tsukineko-repo/tsukineko-banner-maker
```

### 4. Cloud Run ã¸ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
gcloud run deploy tsukineko-banner-maker \
    --image asia-northeast1-docker.pkg.dev/YOUR_PROJECT_ID/tsukineko-repo/tsukineko-banner-maker \
    --platform managed \
    --region asia-northeast1 \
    --allow-unauthenticated \
    --set-env-vars OPENAI_API_KEY=sk-proj-xxx \
    --memory 1Gi \
    --cpu 1 \
    --timeout 300
```

### 5. Secret Manager ã‚’ä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰

```bash
# ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®ä½œæˆ
echo -n "sk-proj-xxx" | gcloud secrets create openai-api-key --data-file=-

# Cloud Run ã«ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’ãƒã‚¦ãƒ³ãƒˆ
gcloud run deploy tsukineko-banner-maker \
    --image asia-northeast1-docker.pkg.dev/YOUR_PROJECT_ID/tsukineko-repo/tsukineko-banner-maker \
    --platform managed \
    --region asia-northeast1 \
    --allow-unauthenticated \
    --set-secrets OPENAI_API_KEY=openai-api-key:latest \
    --memory 1Gi \
    --cpu 1 \
    --timeout 300
```

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
tsukineko-banner-maker/
â”œâ”€â”€ app.py              # Streamlit ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒª
â”œâ”€â”€ prompt_builder.py   # ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯
â”œâ”€â”€ templates.yaml      # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå®šç¾©
â”œâ”€â”€ requirements.txt    # Python ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
â”œâ”€â”€ Dockerfile          # Cloud Run ç”¨ Dockerfile
â”œâ”€â”€ .env.example        # ç’°å¢ƒå¤‰æ•°ã®ã‚µãƒ³ãƒ—ãƒ«
â”œâ”€â”€ .dockerignore       # Docker ãƒ“ãƒ«ãƒ‰é™¤å¤–è¨­å®š
â”œâ”€â”€ .gitignore          # Git é™¤å¤–è¨­å®š
â””â”€â”€ README.md           # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

## ğŸ¨ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€è¦§

### Generateç³»ï¼ˆæ–°è¦ç”Ÿæˆï¼‰

| ID | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå | ç”Ÿæˆæšæ•° | èª¬æ˜ |
|----|---------------|---------|------|
| t01 | ã‚­ãƒ£ãƒ©çµ±ä¸€ãƒãƒŠãƒ¼ | 3æš | æ§‹å›³é•ã„ã®3ãƒ‘ã‚¿ãƒ¼ãƒ³ |
| t02 | æ–‡å­—å…¥ã‚ŠãƒãƒŠãƒ¼ | 1æš | ãƒ†ã‚­ã‚¹ãƒˆå®Œå…¨ä¸€è‡´æç”» |
| t03 | å­£ç¯€æ„Ÿãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ | 4æš | æ˜¥å¤ç§‹å†¬ã®4ãƒ‘ã‚¿ãƒ¼ãƒ³ |
| t04 | è‰²é•ã„ãƒãƒŠãƒ¼ | 3æš | é…è‰²ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ |
| t05 | ã‚µã‚¤ã‚ºå±•é–‹ãƒ†ãƒ³ãƒ—ãƒ¬ | 3æš | SNSç”¨ã‚µã‚¤ã‚ºã‚»ãƒƒãƒˆ |
| t06 | ã‚·ãƒ³ãƒ—ãƒ«ãƒ­ã‚´ãƒãƒŠãƒ¼ | 1æš | ä½™ç™½å¤šã‚ãƒŸãƒ‹ãƒãƒ« |
| t07 | æƒ…å ±è©°ã‚è¾¼ã¿å‹ | 1æš | ã‚¤ãƒ™ãƒ³ãƒˆå‘ŠçŸ¥å‘ã‘ |
| t08 | ãƒŸãƒ‹ãƒãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ | 1æš | è¦ç´ æœ€å°é™ |

### Editç³»ï¼ˆç”»åƒç·¨é›†ï¼‰

| ID | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå | ç·¨é›†å¯¾è±¡ | èª¬æ˜ |
|----|---------------|---------|------|
| t09 | è‰²ã®ã¿å¤‰æ›´ | color | é…è‰²ã ã‘ã‚’å¤‰æ›´ |
| t10 | ãƒ†ã‚­ã‚¹ãƒˆã®ã¿å¤‰æ›´ | text | ãƒ†ã‚­ã‚¹ãƒˆéƒ¨åˆ†ã‚’å·®ã—æ›¿ãˆ |
| t11 | èƒŒæ™¯ã®ã¿å¤‰æ›´ | background | èƒŒæ™¯ã‚’å·®ã—æ›¿ãˆ |
| t12 | å°ç‰©è¿½åŠ  | add_element | è£…é£¾ã‚’è¿½åŠ  |

## âš™ï¸ ç’°å¢ƒå¤‰æ•°

| å¤‰æ•°å | å¿…é ˆ | èª¬æ˜ |
|--------|------|------|
| `OPENAI_API_KEY` | âœ… | OpenAI API ã‚­ãƒ¼ |
| `ENV` | - | ç’°å¢ƒè­˜åˆ¥å­ï¼ˆdevelopment/productionï¼‰ |

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License
